# Template pour les variables d'environnement de production
# Copier ce fichier vers .env.production et remplir les valeurs réelles
# NE JAMAIS COMMITTER LE FICHIER .env.production AVEC LES VRAIES VALEURS

# Environnement
ENVIRONMENT=production
DEBUG=false
DRY_RUN=false

# Serveur
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=false

# Base de données MongoDB
# Format: mongodb://username:password@host:port/database?options
MONGO_URL=mongodb://YOUR_USER:YOUR_PASSWORD@YOUR_CLUSTER/mcp?ssl=true&authSource=admin&retryWrites=true&w=majority
MONGO_NAME=mcp

# Redis (pour cache et sessions)
# Format: redis://username:password@host:port/database
REDIS_URL=redis://YOUR_USERNAME:YOUR_PASSWORD@YOUR_REDIS_HOST:YOUR_REDIS_PORT/0
REDIS_HOST=YOUR_REDIS_HOST
REDIS_PORT=YOUR_REDIS_PORT
REDIS_USERNAME=YOUR_REDIS_USERNAME
REDIS_PASSWORD=YOUR_REDIS_PASSWORD
REDIS_SSL=true

# Sécurité et JWT - OBLIGATOIRE en production
# Générer avec: openssl rand -hex 32
JWT_SECRET=YOUR_SECURE_JWT_SECRET_MIN_32_CHARS
JWT_SECRET_KEY=YOUR_SECURE_JWT_SECRET_MIN_32_CHARS
SECRET_KEY=YOUR_SECURE_SECRET_KEY_MIN_32_CHARS
SECURITY_SECRET_KEY=YOUR_SECURE_SECURITY_SECRET_KEY_MIN_32_CHARS
JWT_EXPIRATION_HOURS=24

# CORS et hosts autorisés
SECURITY_CORS_ORIGINS=["https://app.dazno.de","https://dazno.de","https://www.dazno.de"]
SECURITY_ALLOWED_HOSTS=["app.dazno.de","dazno.de","www.dazno.de","api.dazno.de"]

# Services Lightning
LIGHTNING_ADDRESS=YOUR_LIGHTNING_ADDRESS
LNBITS_URL=https://lnbits.dazno.de
LNBITS_ADMIN_KEY=YOUR_LNBITS_ADMIN_KEY
LNBITS_INKEY=YOUR_LNBITS_INVOICE_KEY

# Intelligence Artificielle
ANTHROPIC_API_KEY=YOUR_ANTHROPIC_API_KEY
OPENAI_API_KEY=YOUR_OPENAI_API_KEY
AI_OPENAI_API_KEY=YOUR_OPENAI_API_KEY
AI_OPENAI_MODEL=gpt-4o-mini
AI_OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# Configuration RAG
RAG_ENABLED=true
RAG_DATA_PATH=/app/rag
QDRANT_URL=http://qdrant:6333
QDRANT_COLLECTION=mcp_knowledge
MODEL_NAME=gpt-4o-mini
EMBEDDING_MODEL=text-embedding-3-small

# APIs externes
AMBOSS_API_KEY=YOUR_AMBOSS_API_KEY
LNMARKETS_API_KEY=YOUR_LNMARKETS_API_KEY
LNMARKETS_SECRET=YOUR_LNMARKETS_SECRET

# Performance
PERF_RESPONSE_CACHE_TTL=3600
PERF_EMBEDDING_CACHE_TTL=86400
PERF_MAX_WORKERS=4

# Monitoring et logs
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_ENABLE_STRUCTLOG=true
LOG_ENABLE_FILE_LOGGING=true
LOG_LOG_FILE_PATH=logs/mcp.log
LOG_MAX_FILE_SIZE=10485760
LOG_BACKUP_COUNT=5

# Certificats SSL (si applicable)
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem

# Notes importantes:
# 1. Toujours utiliser des secrets forts générés aléatoirement
# 2. Ne jamais réutiliser les secrets entre environnements
# 3. Stocker les secrets dans un gestionnaire de secrets (Vault, AWS Secrets Manager, etc.)
# 4. Rotation régulière des secrets (au moins tous les 90 jours)
# 5. Audit régulier des accès aux secrets