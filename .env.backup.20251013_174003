# Configuration de production MCP Lightning
# ATTENTION: Ce fichier contient des secrets - ne jamais le committer

# ============================================
# ENVIRONNEMENT
# ============================================
ENVIRONMENT=production
DEBUG=false
DRY_RUN=false
DEVELOPMENT_MODE=false

# ============================================
# SERVEUR
# ============================================
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=false
MAX_CONNECTIONS=100
TIMEOUT=30
KEEPALIVE=5

# ============================================
# AUTHENTIFICATION ET SÉCURITÉ
# ============================================
JWT_SECRET=a10ec7228b3032398c23497745ea74107b8cefe1fc61f22c5adce9e738535707
JWT_SECRET_KEY=a10ec7228b3032398c23497745ea74107b8cefe1fc61f22c5adce9e738535707
SECRET_KEY=393d4499cf0c28c8d42400147fbbc380d50558b907ef183a19d70bd3c4e0d279
SECURITY_SECRET_KEY=c702da08b50246b1b26ef4030c0465a94ba350d3efac058f0115110120c6f766
JWT_EXPIRATION_HOURS=24

# ============================================
# BASE DE DONNÉES MONGODB
# ============================================
MONGO_URL=mongodb://feustey:sIiEp8oiB2hjYBbi@cluster0-shard-00-00.pin4fwl.mongodb.net:27017,cluster0-shard-00-01.pin4fwl.mongodb.net:27017,cluster0-shard-00-02.pin4fwl.mongodb.net:27017/mcp?ssl=true&replicaSet=atlas-9rsvh1-shard-0&authSource=admin&retryWrites=true&w=majority
MONGO_NAME=mcp
MONGO_USE_MOCK=false

# ============================================
# REDIS CLOUD (UPSTASH)
# ============================================
REDIS_URL=https://ruling-lion-5846.upstash.io
REDIS_TOKEN=ARbWAAImcDE1YjNkYzI5MjAwMTI0ODU4OGYwZTk5OGY0MGM4MWY4ZXAxNTg0Ng
REDIS_PORT=6379
REDIS_USERNAME=default
REDIS_SSL=true

# ============================================
# CORS ET HOSTS AUTORISÉS
# ============================================
SECURITY_CORS_ORIGINS=["https://app.dazno.de","https://dazno.de","https://www.dazno.de","https://api.dazno.de","https://token-for-good.com"]
SECURITY_ALLOWED_HOSTS=["app.dazno.de","dazno.de","www.dazno.de","api.dazno.de","token-for-good.com"]
CORS_ORIGINS=https://app.dazno.de,https://api.dazno.de,https://dazno.de,https://www.dazno.de,https://token-for-good.com
ALLOWED_ORIGINS=https://app.dazno.de,https://dazno.de,https://www.dazno.de,https://token-for-good.com
CORS_CREDENTIALS=true

# ============================================
# SERVICES LIGHTNING
# ============================================
LIGHTNING_ADDRESS=feustey@getalby.com
LNBITS_URL=https://lnbits.dazno.de
LNBITS_FALLBACK_URL=mock
LNBITS_USE_MOCK=true
LNBITS_API_KEY=fddac5fb8bf64eec944c89255b98dac4
LNBITS_ADMIN_KEY=fddac5fb8bf64eec944c89255b98dac4
LNBITS_INKEY=3fbbe7e0c2a24b43aa2c6ad6627f44eb
LIGHTNING_NETWORK_ENABLED=true

# ============================================
# INTELLIGENCE ARTIFICIELLE
# ============================================
ANTHROPIC_API_KEY=sk-ant-api03-ozuR2sDl6gFWu2QRBN0maCpwXhL5YxBbzCKnm_qdRx-e3X8-oYmexLpaSBN8c2b2otO2Drl3crT3BlbkFJYfOsykTSrwGUhfd45yrrrjzuu0cxYGSNY6epRUiT7r0iY-CxSb0MOKMu_w1YKjgfB5lbAzcIcA
OPENAI_API_KEY=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
OPENAI_MODEL=gpt-5
AI_OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# ============================================
# CONFIGURATION RAG
# ============================================
RAG_ENABLED=true
RAG_SYSTEM_ENABLED=true
RAG_DATA_PATH=/app/rag
QDRANT_URL=http://qdrant:6333
QDRANT_COLLECTION=mcp_knowledge
MODEL_NAME=gpt-4o-mini
EMBEDDING_MODEL=text-embedding-3-small
RAG_CACHE_ENABLED=true
RAG_CACHE_TTL=3600

# ============================================
# SPARKSEER API
# ============================================
SPARKSEER_API_KEY=p3LJDbvAux0e1SRg6Ppgi6zNTzVe1hsXzTVEPUQEpEZslbyP2nVW2AWfaIHCDS1d
SPARKSEER_BASE_URL=https://api.sparkseer.space/v1/
RATE_LIMIT_SPARKSEER=200
DAILY_QUOTA_SPARKSEER=2000

# ============================================
# APIs EXTERNES
# ============================================
AMBOSS_API_KEY=YOUR_AMBOSS_API_KEY
LNMARKETS_API_KEY=YOUR_LNMARKETS_API_KEY
LNMARKETS_SECRET=YOUR_LNMARKETS_SECRET

# ============================================
# SURVEILLANCE ET MONITORING
# ============================================
MONITORING_ENABLED=true
MONITORING_DASHBOARD_ENABLED=true
CONNECTIVITY_CHECK_INTERVAL=60
ALERT_LEVEL=warning
CRITICAL_SERVICES=LNBits,MongoDB,Redis,MCP_API
MONITOR_SERVICES=LNBits,LNBits_Cloud,Sparkseer,MongoDB,Redis,MCP_API,Lightning_API,OpenAI,Anthropic

# ============================================
# PERFORMANCE ET LIMITES
# ============================================
PERF_RESPONSE_CACHE_TTL=3600
PERF_EMBEDDING_CACHE_TTL=86400
PERF_MAX_WORKERS=4
PERF_ENABLE_METRICS=true
RATE_LIMIT_ENABLED=true
MAX_REQUESTS_PER_HOUR=1000
BATCH_SIZE=10
MAX_CONCURRENT_REQUESTS=10

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_ENABLE_STRUCTLOG=true
LOG_ENABLE_FILE_LOGGING=true
LOG_LOG_FILE_PATH=logs/mcp.log
LOG_FILE_ENABLED=true
LOG_FILE_PATH=logs/mcp_production.log
LOG_MAX_FILE_SIZE=10485760
LOG_BACKUP_COUNT=5
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30
LOG_REQUEST_SAMPLE_RATE=0.1

# ============================================
# TELEGRAM NOTIFICATIONS
# ============================================
TELEGRAM_BOT_TOKEN=7676575630:AAEE4ds5F9XAvqU1JtAGY-_BFN0KDSAkvDQ
TELEGRAM_CHAT_ID=5253984937
TELEGRAM_NOTIFICATIONS_ENABLED=true
TELEGRAM_ALERT_LEVEL=critical

# ============================================
# HEALTHCHECK ET STATUS
# ============================================
HEALTHCHECK_ENABLED=true
HEALTHCHECK_INTERVAL=30
HEALTHCHECK_TIMEOUT=10
STATUS_PAGE_ENABLED=true
API_DOCUMENTATION_ENABLED=true

# ============================================
# BACKUP ET SAUVEGARDE
# ============================================
BACKUP_ENABLED=false
BACKUP_INTERVAL=daily
BACKUP_RETENTION_DAYS=7

# ============================================
# FEATURES FLAGS
# ============================================
LIGHTNING_NETWORK_ENABLED=true
RAG_SYSTEM_ENABLED=true
MONITORING_DASHBOARD_ENABLED=true
API_DOCUMENTATION_ENABLED=true
